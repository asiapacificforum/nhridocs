= stylesheet_link_tag 'corporate_services/strategic_plan'
= select :strategic_plan, :start_date, start_date_options, {}, {:class => "form-control h1_select", :style => "background-color:inherit;height:50px"}

%div
  .btn.btn-success.btn-sm.add_strategic_priority{:style => "margin-bottom:12px; color:white;"}
    %i.fa.fa-plus.fa-lg{:style => "color:white"}
    %span= t('.add_priority')
  .btn.btn-primary.btn-sm.ms_word{:style => "margin-bottom:12px; color:white; float:right;"}
    %span= t('.ms_word')

.panel-group#strategic_plan

:coffeescript
  @i18n =
    delete_performance_indicator_confirmation_message : "#{t('.delete_performance_indicator_confirmation_message')}"
    delete_activity_confirmation_message : "#{t('.delete_activity_confirmation_message')}"
    delete_outcome_confirmation_message : "#{t('.delete_outcome_confirmation_message')}"
    delete_planned_result_confirmation_message : "#{t('.delete_planned_result_confirmation_message')}"
    delete_strategic_priority_confirmation_message : "#{t('.delete_strategic_priority_confirmation_message')}"

= render :partial => 'corporate_services/strategic_plans/strategic_plan_templates'
= render :partial => 'shared/confirm_delete_modal'
= javascript_include_tag "corporate_services/strategic_plan"

:coffeescript
  @strategic_plan_data = #{@strategic_plan.to_json}

:coffeescript
  $ ->
    # switch pages in response to changes in the title select box
    $('#strategic_plan_start_date').on 'change', ->
      url = "#{corporate_services_strategic_plan_path(:en,:id)}".replace(/id$/,@.value)
      $.get( url, null, set_data, 'json')

    set_data = (data,status,jqxhr)->
      strategic_plan.set(data)

    # add the new_strategic_priority form
    $('.add_strategic_priority').on 'click', ->
      strategic_plan.new_strategic_priority()

    $('.ms_word').on 'click', ->
      window.location="#{corporate_services_strategic_plan_path(StrategicPlan.most_recent)}.docx"
