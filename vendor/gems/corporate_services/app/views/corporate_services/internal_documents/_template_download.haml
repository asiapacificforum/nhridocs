%script#template-download{:type => 'html/template'}
  {% for (var i=0, file; file=files[i]; i++) { %}
  .panel.panel-default.template-download
    #headingOne.panel-heading{:role => "tab"}
      %strong.error.text-danger {%= file.error %}
      = render :partial => 'doc_table', :locals => {:file => 'file'}
    .panel-collapse.collapse{:role => "tabpanel", :id => "collapse{%= file.id %}"}
      .panel-body
        %h4 Archive
        {% if ((typeof(file.archive_files)!='undefined' && (file.archive_files.length == 0)) || typeof(file.archive_files)=='undefined') { %}
        %p empty
        {% } else { %}
        {% for (var j=file.archive_files.length-1, archive_file; archive_file=file.archive_files[j]; j--) { %}
        = render :partial => 'doc_table', :locals => {:file => 'archive_file'}
        {% }} %}
  {% } %}
