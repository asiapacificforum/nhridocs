/ The template to display files ready for upload and set the title/revision
%script#template-upload{:type => 'html/template'}
  {% for (var i=0, file; file=o.files[i]; i++) { %}
  .panel.panel-default.fade.template-upload
    .panel-heading
      %table{:width => '100%'}
        %tr
          %td{:colspan => 2}
            %p.name {%= file.name %}
            %strong.error.text-danger
            = hidden_field_tag 'internal_document[lastModifiedDate]', "{%= file.lastModifiedDate %}"
            = hidden_field_tag 'internal_document[original_type]', "{%= file.type %}"
            = hidden_field_tag 'internal_document[filesize]', "{%= file.size %}"
            -# this will not work for uploading archive files:
            = hidden_field_tag 'internal_document[primary]', "true"
          %td{:colspan => 2}
            .size= t('.processing')
            .progress.progress-striped.active{:role => 'progressbar', :aria_valuemin => '0', :aria_valuemax => '100', :aria_valuenow=>'0'}
              .progress-bar.progress-bar-success{:style => "width:0%"}
        %tr
          %td.title
            = label_tag :internal_document_title, t('.doc_title')
            = text_field_tag 'internal_document[title]', '',:required => true
          %td.revision
            = label_tag :internal_document_revision, t('.revision')
            = text_field_tag 'internal_document[revision]', '', :style => "width:40px"
          %td
            %div.start{:disabled => true}
              %i.glyphicon.glyphicon-upload
          %td
            %div.cancel
              %i.glyphicon.glyphicon-ban-circle
  {% } %}

