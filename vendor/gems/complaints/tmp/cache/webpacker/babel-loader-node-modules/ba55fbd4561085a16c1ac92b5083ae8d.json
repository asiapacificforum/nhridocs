{"ast":null,"code":"import $ from 'jquery';\nimport jQuery from 'jquery';\n'use strict';\n\nvar MultiModal = function MultiModal(element) {\n  this.$element = $(element);\n  this.modalCount = 0;\n};\n\nMultiModal.BASE_ZINDEX = 1040;\n\nMultiModal.prototype.show = function (target) {\n  var that = this;\n  var $target = $(target);\n  var modalIndex = that.modalCount++;\n  $target.css('z-index', MultiModal.BASE_ZINDEX + modalIndex * 20 + 10); // Bootstrap triggers the show event at the beginning of the show function and before\n  // the modal backdrop element has been created. The timeout here allows the modal\n  // show function to complete, after which the modal backdrop will have been created\n  // and appended to the DOM.\n\n  window.setTimeout(function () {\n    // we only want one backdrop; hide any extras\n    if (modalIndex > 0) $('.modal-backdrop').not(':first').addClass('hidden');\n    that.adjustBackdrop();\n  });\n};\n\nMultiModal.prototype.hidden = function (target) {\n  this.modalCount--;\n\n  if (this.modalCount) {\n    this.adjustBackdrop(); // bootstrap removes the modal-open class when a modal is closed; add it back\n\n    $('body').addClass('modal-open');\n  }\n};\n\nMultiModal.prototype.adjustBackdrop = function () {\n  var modalIndex = this.modalCount - 1;\n  $('.modal-backdrop:first').css('z-index', MultiModal.BASE_ZINDEX + modalIndex * 20);\n};\n\nfunction Plugin(method, target) {\n  return this.each(function () {\n    var $this = $(this);\n    var data = $this.data('multi-modal-plugin');\n    if (!data) $this.data('multi-modal-plugin', data = new MultiModal(this));\n    if (method) data[method](target);\n  });\n}\n\n$.fn.multiModal = Plugin;\n$.fn.multiModal.Constructor = MultiModal;\n$(document).on('show.bs.modal', function (e) {\n  $(document).multiModal('show', e.target);\n});\n$(document).on('hidden.bs.modal', function (e) {\n  $(document).multiModal('hidden', e.target);\n});\nexport default MultiModal;","map":null,"metadata":{},"sourceType":"module"}