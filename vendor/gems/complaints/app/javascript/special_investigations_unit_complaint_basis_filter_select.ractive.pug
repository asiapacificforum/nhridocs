script#filter_select_template(type='text/ractive', src='./filter_select_template.pug').

| {{>filter_select_template}}

script.
  //import Ractive from 'ractive'
  import Toggle from './toggle'
  import RactiveLocalMethods from '../../../../../app/assets/javascripts/ractive_local_methods'

  export default Ractive.extend({
    template : $TEMPLATE,
    computed : {
      selected : {
        get() {
          return this.get('filter_criteria.selected_special_investigations_unit_complaint_basis_ids').indexOf(this.get('id')) !== -1;
        },
        set(val){
          if (val) {
            return this.push('filter_criteria.selected_special_investigations_unit_complaint_basis_ids', this.get('id'));
          } else {
            return this.remove_from_array('filter_criteria.selected_special_investigations_unit_complaint_basis_ids', this.get('id'));
          }
        }
      }
    }}).extend(Toggle).extend(RactiveLocalMethods);
