.message_block
%h1=t('.heading')

-["good_governance", "siu", "corporate_services"].each do |name|
  %h4= t(".#{name}_subareas")
  %div{:id => "#{name}_subareas"}
    = render :partial => 'admin/collection_configuration',
      :locals => { :new_item => instance_variable_get("@#{name}_complaint_basis"),
                   :create_url => Rails.application.routes.url_helpers.send("#{name}_complaint_bases_path",'en'),
                   :delete_url => Rails.application.routes.url_helpers.send("#{name}_complaint_basis_path",'en','id'),
                   :collection => instance_variable_get("@#{name}_complaint_bases").to_json,
                   :item_name => "#{name}_subarea",
                   :param_name => 'name',
                   :placeholder => 'e.g. delayed action'}

%h4= t('.categories')
#categories
  = render :partial => 'admin/collection_configuration',
    :locals => { :new_item => @complaint_category,
                 :create_url => complaint_categories_path('en'),
                 :delete_url => complaint_category_path('en','id'),
                 :collection => @complaint_categories.to_json,
                 :item_name => 'complaint_category',
                 :param_name => 'name',
                 :placeholder => 'e.g. formal'}

%h4= t('.complaint_filetypes')
#complaint_filetypes
  = render :partial => 'admin/collection_configuration',
    :locals => { :new_item => @complaint_filetype,
                 :create_url => complaint_document_filetypes_path('en'),
                 :delete_url => complaint_document_filetype_path('en','id'),
                 :collection => @complaint_document_filetypes,
                 :item_name => 'complaint_document_filetype',
                 :param_name => 'ext',
                 :placeholder => 'e.g. ppt'}

%h4= t('.complaint_filesize_max')
#complaint_filesize
  = render :partial => 'admin/document_filesize_configuration',
           :locals => { :update_url => complaint_document_filesize_path('en'),
                        :param => @complaint_filesize,
                        :context => "complaint_document_filesize"}

%h4= t('.communication_filetypes')
#communication_filetypes
  = render :partial => 'admin/collection_configuration',
    :locals => { :new_item => @communication_filetype,
                 :create_url => communication_document_filetypes_path('en'),
                 :delete_url => communication_document_filetype_path('en','id'),
                 :collection => @communication_document_filetypes,
                 :item_name => 'communication_document_filetype',
                 :param_name => 'ext',
                 :placeholder => 'e.g. ppt'}

%h4= t('.communication_filesize_max')
#communication_filesize
  = render :partial => 'admin/document_filesize_configuration',
           :locals => { :update_url => communication_document_filesize_path('en'),
                        :param => @communication_filesize,
                        :context => "communication_document_filesize"}


:coffeescript
  $ ->
    _.templateSettings = { interpolate: /\{\{(.+?)\}\}/g }
    window.flash_error_template = _.template("<ul class='error'><li>{{message}}</li></ul>")
